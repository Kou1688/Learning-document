# 软件架构——单体→分布式→微服务

软件架构（software architecture）是一系列的抽象模式，用于指导大型软件系统各个方面的设计，是一个系统的草图。今天我们就聊聊软件架构的演进。

**单体架构**

单体架构是应用的初级架构，Web端+业务逻辑层+数据库，典型的MVC三层架构。像SpringMVC采用的就是这种架构。

![image-20211208203514435](https://typora-1259727047.cos.ap-nanjing.myqcloud.com/img/2021/image-20211208203514435.png)

单体架构中系统中的所有服务模块都耦合在一起，随着版本迭代，整个系统会变得十分的臃肿，越来越难以维护，并且每次更新都可能需要整个系统进行停机部署，耗时长，风险大。数十万行代码耦合在一起，修改代码会变得十分危险，出现一个BUG可能会导致整个系统的崩溃，可靠性差。

**分布式架构**

分布式架构，将系统中的业务逻辑层和数据库分布式部署，将系统分为具体的几大业务模块，业务模块部署在不同服务器中，通过接口进行数据交互，数据库也采用分布式的数据库，通过像Nginx之类应用，将用户的请求负载均衡到各个服务器中。相对于单体架构来讲，提供了负载均衡的能力，让系统提高了高并发的能力。

![image-20211208210355758](https://typora-1259727047.cos.ap-nanjing.myqcloud.com/img/2021/image-20211208210355758.png)

**微服务架构**

中间层分解，将业务再细分成一个一个小模块，每一个模块可以部署在不同的服务器上。如果一个模块出现故障，不会影响到其他模块，一个模块的并发负载压力不会影响到其他模块。

![image-20211208212608038](https://typora-1259727047.cos.ap-nanjing.myqcloud.com/img/2021/image-20211208212608038.png)

![image-20211208211358692](https://typora-1259727047.cos.ap-nanjing.myqcloud.com/img/2021/image-20211208211358692.png)

单个微服务启动很快，微服务可以单独进行部署，不必重启整个系统。每个模块只负责具体的业务，分工明确，代码量少，开发维护相对简单。并且每个模块可以有自己的技术栈，甚至可以每个模块可以用不同语言进行开发。

